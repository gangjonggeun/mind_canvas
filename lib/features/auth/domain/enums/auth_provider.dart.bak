/// ğŸ” ì¸ì¦ ì œê³µì enum
/// 
/// ì•±ì—ì„œ ì§€ì›í•˜ëŠ” ë¡œê·¸ì¸ ë°©ì‹ë“¤ì„ ì •ì˜
/// - ë©”ëª¨ë¦¬ íš¨ìœ¨ì ì¸ enum ì‚¬ìš©
/// - í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡° ì„¤ê³„
/// - íƒ€ì… ì•ˆì „í•œ ì¸ì¦ ë°©ì‹ ê´€ë¦¬
enum AuthProvider {
  /// ğŸ“§ ì´ë©”ì¼ ë¡œê·¸ì¸
  email('email', 'ì´ë©”ì¼'),
  
  /// ğŸŒ Google ë¡œê·¸ì¸
  google('google', 'Google'),
  
  /// ğŸ Apple ë¡œê·¸ì¸
  apple('apple', 'Apple'),
  
  /// ğŸ‘¥ ê²ŒìŠ¤íŠ¸ ë¡œê·¸ì¸
  guest('guest', 'ê²ŒìŠ¤íŠ¸'),
  
  /// ğŸ” ìµëª… ë¡œê·¸ì¸
  anonymous('anonymous', 'ìµëª…');

  const AuthProvider(this.value, this.displayName);

  /// APIì—ì„œ ì‚¬ìš©í•˜ëŠ” ë¬¸ìì—´ ê°’
  final String value;
  
  /// ì‚¬ìš©ìì—ê²Œ í‘œì‹œë˜ëŠ” ì´ë¦„
  final String displayName;

  /// API ê°’ìœ¼ë¡œë¶€í„° AuthProvider ìƒì„±
  static AuthProvider? fromValue(String value) {
    for (final provider in AuthProvider.values) {
      if (provider.value == value) {
        return provider;
      }
    }
    return null;
  }

  /// ì†Œì…œ ë¡œê·¸ì¸ ì—¬ë¶€ í™•ì¸
  bool get isSocial => [google, apple].contains(this);
  
  /// ìµëª… ë¡œê·¸ì¸ ì—¬ë¶€ í™•ì¸
  bool get isAnonymous => [guest, anonymous].contains(this);
  
  /// ì´ë©”ì¼ ë¡œê·¸ì¸ ì—¬ë¶€ í™•ì¸
  bool get isEmail => this == email;

  /// í”„ë¡œë°”ì´ë”ë³„ ì•„ì´ì½˜ ì½”ë“œ ë°˜í™˜
  int get iconCode {
    switch (this) {
      case email:
        return 0xe0be; // Icons.email
      case google:
        return 0xe1a0; // Icons.g_mobiledata
      case apple:
        return 0xe318; // Icons.apple
      case guest:
        return 0xe7fd; // Icons.person
      case anonymous:
        return 0xe8f4; // Icons.visibility_off
    }
  }

  /// í”„ë¡œë°”ì´ë”ë³„ ìƒ‰ìƒ ì½”ë“œ ë°˜í™˜ (Hex)
  String get colorHex {
    switch (this) {
      case email:
        return '#6B73FF'; // ë©”ì¸ ë¸Œëœë“œ ìƒ‰ìƒ
      case google:
        return '#4285F4'; // Google ë¸Œëœë“œ ìƒ‰ìƒ
      case apple:
        return '#000000'; // Apple ë¸Œëœë“œ ìƒ‰ìƒ
      case guest:
        return '#64748B'; // ì¤‘ì„± íšŒìƒ‰
      case anonymous:
        return '#94A3B8'; // ì—°í•œ íšŒìƒ‰
    }
  }

  @override
  String toString() => displayName;
}

/// AuthProvider í™•ì¥ ë©”ì„œë“œ
extension AuthProviderExtension on AuthProvider {
  /// ë¡œê·¸ì¸ ë²„íŠ¼ìš© í…ìŠ¤íŠ¸ ë°˜í™˜
  String get buttonText {
    switch (this) {
      case AuthProvider.email:
        return 'ì´ë©”ì¼ë¡œ ë¡œê·¸ì¸';
      case AuthProvider.google:
        return 'Googleë¡œ ë¡œê·¸ì¸';
      case AuthProvider.apple:
        return 'Appleë¡œ ë¡œê·¸ì¸';
      case AuthProvider.guest:
        return 'ë‹¤ë¥¸ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸';
      case AuthProvider.anonymous:
        return 'ìµëª…ìœ¼ë¡œ ë¡œê·¸ì¸';
    }
  }

  /// ë¡œë”© ì¤‘ ë©”ì‹œì§€ ë°˜í™˜
  String get loadingMessage {
    switch (this) {
      case AuthProvider.email:
        return 'ì´ë©”ì¼ ë¡œê·¸ì¸ ì¤‘...';
      case AuthProvider.google:
        return 'Google ë¡œê·¸ì¸ ì¤‘...';
      case AuthProvider.apple:
        return 'Apple ë¡œê·¸ì¸ ì¤‘...';
      case AuthProvider.guest:
        return 'ê²ŒìŠ¤íŠ¸ ë¡œê·¸ì¸ ì¤‘...';
      case AuthProvider.anonymous:
        return 'ìµëª… ë¡œê·¸ì¸ ì¤‘...';
    }
  }

  /// ì„±ê³µ ë©”ì‹œì§€ ë°˜í™˜
  String get successMessage {
    switch (this) {
      case AuthProvider.email:
        return 'ì´ë©”ì¼ ë¡œê·¸ì¸ì— ì„±ê³µí–ˆìŠµë‹ˆë‹¤!';
      case AuthProvider.google:
        return 'Google ë¡œê·¸ì¸ì— ì„±ê³µí–ˆìŠµë‹ˆë‹¤!';
      case AuthProvider.apple:
        return 'Apple ë¡œê·¸ì¸ì— ì„±ê³µí–ˆìŠµë‹ˆë‹¤!';
      case AuthProvider.guest:
        return 'ê²ŒìŠ¤íŠ¸ ë¡œê·¸ì¸ì— ì„±ê³µí–ˆìŠµë‹ˆë‹¤!';
      case AuthProvider.anonymous:
        return 'ìµëª… ë¡œê·¸ì¸ì— ì„±ê³µí–ˆìŠµë‹ˆë‹¤!';
    }
  }
}
